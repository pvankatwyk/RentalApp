<Analysis>
    orientation: 'vertical'
    padding: "8dp"
    spacing: "8dp"

    BoxLayout:
        MDToolbar:
            id: analysis_toolbar
            pos_hint: {"top":1}
            title: "Analysis"
            elevation: 10
            left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
            right_action_items: [["dots-vertical", lambda x: app.callback()]]
        MDLabel:
            text: "New Analysis"
            size_hint: 0.5,None
            pos_hint: {'x': 0,'y':0.78}
            font_style: "Subtitle2"
        TextInput:
            size_hint: 0.5,None
            height: "36dp"
            pos_hint: {'y':0.77}
            background_color: (1,1,1,1)
            hint_text: "Test"

        BoxLayout:
            orientation:'vertical'
            padding: dp(20)
            spacing:20
            MDLabel:
                text: 'Connexion'
                theme_text_color: 'Secondary'
                font_style:"H6"
                size_hint_y: None
                height: dp(36)
            MDSeparator:
                height: dp(1)
            MDTextField:
                id: 'username'
                hint_text: "Username "
                helper_text_mode: "on_focus"
            MDTextField:
                id: 'password'
                hint_text: "Password "
                helper_text_mode: "on_focus"

            MDFlatButton:
                text: "Connexion"
                pos_hint: {'center_x': 0.5}

<ContentNavigationDrawer>:
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"

    AnchorLayout:
        anchor_x: "left"
        size_hint_y: None
        height: avatar.height

        Image:
            id: avatar
            size_hint: None, None
            size: "56dp", "56dp"
            source: "photo.png"

    MDLabel:
        text: "Peter"
        font_style: "Button"
        size_hint_y: None
        height: self.texture_size[1]

    MDLabel:
        text: "pvankatwyk@gmail.com"
        font_style: "Caption"
        size_hint_y: None
        height: self.texture_size[1]

    ScrollView:

        MDList:

            OneLineIconListItem:
                text: 'Starred Properties'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Starred Properties"
                IconLeftWidget:
                    icon: 'star'

            OneLineIconListItem:
                text: 'All Properties'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "All Properties"
                IconLeftWidget:
                    icon: 'home'

            OneLineIconListItem:
                text: 'Owned Properties'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Owned Properties"
                IconLeftWidget:
                    icon: 'tools'

            OneLineIconListItem:
                text: 'Settings'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Settings"
                IconLeftWidget:
                    icon: 'key-variant'

            OneLineIconListItem:
                text: 'Profile'
                on_press:
                    root.nav_drawer.set_state("close")
                    root.screen_manager.current = "Profile"
                IconLeftWidget:
                    icon: 'account'



Screen:

    BoxLayout
        orientation: 'vertical'
        MDToolbar:
            id: toolbar
            pos_hint: {"top":1}
            title: "Rental App"
            elevation: 10
            left_action_items: [['menu', lambda x: nav_drawer.set_state("open")]]
            right_action_items: [["dots-vertical", lambda x: app.callback()]]

        MDBottomNavigation:
            MDBottomNavigationItem:
                name: "Analyze"
                text: "Analyze"
                icon: 'chart-bar'
                on_tab_touch_down:
                    screen_manager.current = "Analyze"

            MDBottomNavigationItem:
                name: "Map"
                text: "Map"
                icon: 'home-map-marker'
                on_tab_touch_down:
                    screen_manager.current = "Map"

            MDBottomNavigationItem:
                name: "Mortgage"
                text: "Mortgage"
                icon: 'currency-usd'
                on_tab_touch_down:
                    screen_manager.current = "Mortgage"

            MDBottomNavigationItem:
                name: "More"
                text: "More"
                icon: 'dots-vertical'
                on_tab_touch_down:
                    screen_manager.current = "More"

    NavigationLayout:
        x: toolbar.height

        ScreenManager:
            id: screen_manager

            Screen:
                name: "Starred Properties"
                MDLabel:
                    text: "Starred Properties"
                    halign: "center"

            Screen:
                name: "All Properties"
                MDLabel:
                    text: "All Properties"
                    halign: "center"

            Screen:
                name: "Owned Properties"
                MDLabel:
                    text: "Owned Properties"
                    halign: "center"

            Screen:
                name: "Settings"
                MDLabel:
                    text: "Settings"
                    halign: "center"

            Screen:
                name: "Profile"
                MDLabel:
                    text: "Profile"
                    halign: "center"

            Screen:
                name: "Mortgage"
                MDLabel:
                    text: "Mortgage"
                    halign: "center"

            Screen:
                name: "More"
                MDLabel:
                    text: "More"
                    halign: "center"



            Screen:
                name: "Analyze"



            Screen:
                name: "Map"
                MDLabel:
                    text: "Map"
                    halign: "center"


        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                #id: content_drawer
                nav_drawer: nav_drawer
                screen_manager: screen_manager